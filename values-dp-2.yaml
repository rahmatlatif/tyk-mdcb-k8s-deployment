# Values for Data Plane 2
# Auto-generated by 04-deploy-additional-data-plane.sh

global:
  components:
    pump: false

  servicePorts:
    gateway: 8081

  remoteControlPlane:
    useSecretName: tyk-data-plane-details
    enabled: true
    connectionString: "mdcb-svc-tyk-cp-tyk-mdcb.tyk-cp.svc:9091"
    useSSL: false
    sslInsecureSkipVerify: true

  mdcbSynchronizer:
    enabled: false
    keySpaceSyncInterval: 10

  tls:
    gateway: false
    useDefaultTykCertificate: true

  secrets:
    APISecret: CHANGEME
    useSecretName: ""

  redis:
    addrs:
      - tyk-redis-master.tyk-dp-2.svc.cluster.local:6379
    passSecret:
      name: tyk-redis
      keyName: redis-password
    storage:
      database: 0

  hashKeys: true

  streaming:
    enabled: true

tyk-gateway:
  nameOverride: ""
  fullnameOverride: ""

  gateway:
    hostName: tyk-gw-2.local
    enableFixedWindowRateLimiter: false

    tls:
      secretName: tyk-default-tls-secret
      insecureSkipVerify: false
      certificatesMountPath: "/etc/certs/tyk-gateway"
      certificates:
        - domain_name: "*"
          cert_file: "/etc/certs/tyk-gateway/tls.crt"
          key_file: "/etc/certs/tyk-gateway/tls.key"

    kind: Deployment
    replicaCount: 1
    podAnnotations: {}
    podLabels: {}
    autoscaling: {}

    image:
      repository: tykio/tyk-gateway
      tag: v5.8.1
      pullPolicy: IfNotPresent

    initContainers:
      setupDirectories:
        repository: busybox
        tag: 1.32
        resources: {}

    imagePullSecrets: []
    containerPort: 8081

    service:
      type: ClusterIP
      externalTrafficPolicy: Local
      loadBalancerIP: ""
      annotations: {}

    control:
      enabled: false
      containerPort: 9696
      port: 9696
      type: ClusterIP
      annotations: {}

    ingress:
      enabled: false
      className: ""
      annotations: {}
      hosts:
        - host: chart-example.local
          paths:
            - path: /
              pathType: ImplementationSpecific
      tls: []

    pdb:
      enabled: false
      minAvailable: ""
      maxUnavailable: ""

    resources: {}
    livenessProbe: {}
    readinessProbe: {}
    startupProbe: {}

    securityContext:
      runAsUser: 1000
      fsGroup: 2000
      runAsNonRoot: true

    containerSecurityContext:
      runAsNonRoot: true
      runAsUser: 1000
      allowPrivilegeEscalation: false
      privileged: false
      readOnlyRootFilesystem: true
      seccompProfile:
        type: RuntimeDefault
      capabilities:
        drop:
          - ALL

    nodeSelector: {}
    tolerations:
      - key: node-role.kubernetes.io/master
        effect: NoSchedule
    affinity: {}

    extraContainers: []
    extraEnvs: []

    sharding:
      enabled: false
      tags: ""

    analyticsEnabled: ""
    analyticsConfigType: ""

    opentelemetry:
      enabled: false

    enablePathPrefixMatching: true
    enablePathSuffixMatching: true
    enableStrictRoutes: true

    extraVolumes: []
    extraVolumeMounts: []

    log:
      level: "debug"
      format: "default"

    accessLogs:
      enabled: false

    allowInsecureConfigs: true
    globalSessionLifetime: 100
    enableCustomDomains: true
    maxIdleConnectionsPerHost: 500

tyk-pump:
  pump:
    replicaCount: 0

tests:
  enabled: false
